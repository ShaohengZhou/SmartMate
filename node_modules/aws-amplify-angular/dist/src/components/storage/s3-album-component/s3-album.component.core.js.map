{"version":3,"file":"s3-album.component.core.js","sourceRoot":"","sources":["../../../../../src/components/storage/s3-album-component/s3-album.component.core.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,eAAe,CAAC;AACvE,OAAO,EAAE,cAAc,EAAE,MAAM,oBAAoB,CAAC;AAEpD,IAAM,QAAQ,GAAG,mTAWhB,CAAC;;IAcA,8BAAY,cAA8B;wBAFT,IAAI,YAAY,EAAU;QAGzD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;KACtC;IAED,8CAAe,GAAf,UAAgB,KAAK;QACnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC3B;0BAEY,sCAAI;uBAAC,IAAS;YACzB,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBAAE,OAAO;aAAE;YAC3B,IAAM,IAAI,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE;iBAC1B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;iBACf,IAAI,CAAC,UAAA,GAAG;gBACP,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,UAAA,IAAI;oBACtB,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;iBAC3B,CAAC,CAAC;aACJ,CAAC;iBACD,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAlB,CAAkB,CAAC,CAAC;;;;;0BAGzB,sCAAI;uBAAC,IAAY;YAC5B,IAAI,CAAC,IAAI,EAAE;gBAAE,OAAO;aAAE;YACtB,IAAM,IAAI,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE;iBAC1B,IAAI,CAAC,IAAI,CAAC;iBACV,IAAI,CAAC,UAAA,IAAI;gBACR,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,UAAA,IAAI;oBACvB,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;iBAC3B,CAAC,CAAC;aACJ,CAAC;iBACD,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAlB,CAAkB,CAAC,CAAC;;;;;;gBA3CvC,SAAS,SAAC;oBACT,QAAQ,EAAE,uBAAuB;oBACjC,QAAQ,UAAA;iBACT;;;;gBAlBQ,cAAc;;;6BAwBpB,MAAM;yBAWN,KAAK;yBAaL,KAAK;;+BAjDR;;SAoBa,oBAAoB","sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { AmplifyService } from '../../../providers';\n\nconst template = `\n<div class=\"amplify-album\">\n  <div class=\"amplify-album-container\">\n    <amplify-s3-image-core\n      class=\"amplify-image-container\"\n      *ngFor=\"let item of list\"\n      path=\"{{item.path}}\"\n      (selected)=\"onImageSelected($event)\"\n    ></amplify-s3-image-core>\n  </div>\n</div>\n`;\n\n@Component({\n  selector: 'amplify-s3-album-core',\n  template\n})\nexport class S3AlbumComponentCore {\n  list: Array<Object>;\n\n  amplifyService: AmplifyService;\n\n  @Output()\n  selected: EventEmitter<string> = new EventEmitter<string>();\n\n  constructor(amplifyService: AmplifyService) {\n    this.amplifyService = amplifyService;\n  }\n\n  onImageSelected(event) {\n    this.selected.emit(event);\n  }\n\n  @Input() set data(data: any){\n    if (!data.path) { return; }\n    const that = this;\n    this.amplifyService.storage()\n      .list(data.path)\n      .then(res => {\n        that.list = res.map(item => {\n          return { path: item.key };\n        });\n      })\n      .catch(err => console.error(err));\n  }\n\n  @Input() set path(path: string) {\n    if (!path) { return; }\n    const that = this;\n    this.amplifyService.storage()\n      .list(path)\n      .then(data => {\n        that.list = data.map(item => {\n          return { path: item.key };\n        });\n      })\n      .catch(err => console.error(err));\n  }\n}\n"]}