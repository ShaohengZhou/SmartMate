/*!
 * (C) Ionic http://ionicframework.com - MIT License
 * Built with http://stenciljs.com
 */
const{h:t}=window.Ionic;import{a as e}from"./chunk-892e1642.js";let n;function r(t,e,r,o){const c=function(t){if(void 0===n)try{const e=Object.defineProperty({},"passive",{get:()=>{n=!0}});t.addEventListener("optsTest",()=>{},e)}catch(t){n=!1}return!!n}(t)?{capture:!!o.capture,passive:!!o.passive}:!!o.capture;let i,s;return t.__zone_symbol__addEventListener?(i="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(i="addEventListener",s="removeEventListener"),t[i](e,r,c),()=>{t[s](e,r,c)}}const o=2e3;function c(t){return t instanceof Document?t:t.ownerDocument}function i(t){const n=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),i=n.canStart,l=n.onWillStart,d=n.onStart,m=n.onEnd,f=n.notCaptured,v=n.onMove,p=n.threshold,X=n.queue,y={type:"pan",startX:0,startY:0,startTimeStamp:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,timeStamp:0,event:void 0,data:void 0},Y=function(t,e,n,i,s){let a,u,l,d,m,f,v,p=0;function X(c){p=Date.now()+o,e(c)&&(!u&&n&&(u=r(t,"touchmove",n,s)),l||(l=r(t,"touchend",Y,s)),d||(d=r(t,"touchcancel",Y,s)))}function y(o){p>Date.now()||e(o)&&(!f&&n&&(f=r(c(t),"mousemove",n,s)),v||(v=r(c(t),"mouseup",h,s)))}function Y(t){S(),i&&i(t)}function h(t){_(),i&&i(t)}function S(){u&&u(),l&&l(),d&&d(),u=l=d=void 0}function _(){f&&f(),v&&v(),f=v=void 0}function g(){S(),_()}function b(e){e?(a&&a(),m&&m(),a=m=void 0,g()):(a||(a=r(t,"touchstart",X,s)),m||(m=r(t,"mousedown",y,s)))}return{setDisabled:b,stop:g,destroy:function(){b(!0),i=n=e=void 0}}}(n.el,function(t){const e=u(t);return!(g||!b)&&(a(t,y),y.startX=y.currentX,y.startY=y.currentY,y.startTimeStamp=y.timeStamp=e,y.velocityX=y.velocityY=y.deltaX=y.deltaY=0,y.event=t,(!i||!1!==i(y))&&(S.release(),!!S.start()&&(g=!0,0===p?E():(h.start(y.startX,y.startY),!0))))},function(t){_?!D&&b&&(D=!0,s(y,t),X.write(w)):(s(y,t),h.detect(y.currentX,y.currentY)&&(h.isGesture()&&E()||(x(),Y.stop(),f&&f(y))))},function(t){const e=_,n=b;x(),n&&(s(y,t),e?m&&m(y):f&&f(y))},{capture:!1}),h=function(t,e,r){const o=n.maxAngle*(Math.PI/180),c="x"===n.direction,i=Math.cos(o),s=e*e;let a=0,u=0,l=!1,d=0;return{start(t,e){a=t,u=e,d=0,l=!0},detect(t,e){if(!l)return!1;const n=t-a,r=e-u,o=n*n+r*r;if(o<s)return!1;const m=Math.sqrt(o),f=(c?n:r)/m;return d=f>i?1:f<-i?-1:0,l=!1,!0},isGesture:()=>0!==d,getDirection:()=>d}}(0,n.threshold),S=e.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll});let _=!1,g=!1,b=!0,D=!1;function w(){_&&(D=!1,v&&v(y))}function E(){return!(S&&!S.capture()||(_=!0,b=!1,y.startX=y.currentX,y.startY=y.currentY,y.startTimeStamp=y.timeStamp,l?l(y).then(L):L(),0))}function L(){d&&d(y),b=!0}function x(){_=!1,g=!1,D=!1,b=!0,S.release()}return{setDisabled(t){Y.setDisabled(t)},destroy(){S.destroy(),Y.destroy()}}}function s(t,e){const n=t.currentX,r=t.currentY,o=t.timeStamp;a(e,t);const c=t.currentX,i=t.currentY,s=(t.timeStamp=u(e))-o;if(s>0&&s<100){const e=(i-r)/s;t.velocityX=(c-n)/s*.7+.3*t.velocityX,t.velocityY=.7*e+.3*t.velocityY}t.deltaX=c-t.startX,t.deltaY=i-t.startY,t.event=e}function a(t,e){let n=0,r=0;if(t){const e=t.changedTouches;if(e&&e.length>0){const t=e[0];n=t.clientX,r=t.clientY}else void 0!==t.pageX&&(n=t.pageX,r=t.pageY)}e.currentX=n,e.currentY=r}function u(t){return t.timeStamp||Date.now()}export{i as createGesture};